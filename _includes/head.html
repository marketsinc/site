{% assign title = site.title %}
{% if page.title and page.title != site.title %}
    {% assign title = page.title | append: ' | ' | append: site.title %}
{% endif %}

{% assign description = site.description %}
{% if page.description %}
    {% assign description = page.description %}
{% endif %}

{% assign url = site.url | append: page.url %}

{% assign image = "https://markets.inc/assets/images/favicon/apple-touch-icon.png" %}
{% assign card = "summary" %}
{% if page.featured_image %}
    {% assign image = site.url | append: page.featured_image %}
    {% assign card = "summary_large_image" %}
{% endif %}

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- Performance -->
    <meta http-equiv="X-DNS-Prefetch-Control" content="on">

    <link rel="stylesheet" href="/assets/styles.css">

    <title>{{ title }}</title>

    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/svg+xml" href="/assets/images/favicon/favicon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="/assets/images/favicon/site.webmanifest">

    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/assets/images/favicon/android-chrome-192x192.png">
    <meta name="theme-color" content="#ffffff">

    <meta name="description" content="{{ description }}">

    <!-- SEO -->
    <meta name="robots" content="index, follow">
    <meta name="author" content="{{ site.title }}">
    <link rel="canonical" href="{{ url }}">

    <!-- Security -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">

    <meta name="twitter:card" content="{{ card }}" />
    <meta name="twitter:site" content="@{{ site.twitter_username }}" />
    <meta name="twitter:title" content="{{ title }}" />
    <meta name="twitter:url" content="{{ url }}" />
    <meta name="twitter:image" content="{{ image }}" />
    <meta name="twitter:description" content="{{ description }}">

    <meta property="og:site_name" content="{{ site.title }}" />
    <meta property="og:title" content="{{ title }}" />
    <meta property="og:url" content="{{ url }}" />
    <meta property="og:type" content="website">
    <meta property="og:locale" content="en_US">
    <meta property="og:image" content="{{ image }}" />
    <meta property="og:description" content="{{ description }}">

    {% if page.layout == 'post' %}
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "{{ page.title | escape }}",
      "description": "{{ page.description | escape }}",
      "image": "{{ site.url }}{{ page.featured_image }}",
      "datePublished": "{{ page.date | date_to_xmlschema }}",
      "dateModified": "{{ page.date | date_to_xmlschema }}",
      "author": [
        {% for author in page.authors %}
        {
          "@type": "Person",
          "name": "{{ author.name | escape }}"
        }{% unless forloop.last %},{% endunless %}
        {% endfor %}
      ],
      "publisher": {
        "@type": "Organization",
        "name": "{{ site.title }}",
        "logo": {
          "@type": "ImageObject",
          "url": "{{ site.url }}/assets/images/favicon/android-chrome-512x512.png"
        }
      },
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "{{ site.url }}{{ page.url }}"
      },
      "url": "{{ site.url }}{{ page.url }}"
    }
    </script>
    {% else %}
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FinancialService",
      "name": "{{ site.title }}",
      "description": "{{ site.description }}",
      "url": "{{ site.url }}",
      "sameAs": [
        "https://x.com/{{ site.twitter_username }}"
      ],
      "serviceType": "Investment Management",
      "areaServed": "Global"
    }
    </script>
    {% endif %}

</head>
